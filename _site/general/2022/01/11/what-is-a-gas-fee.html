
<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>What is a gas fee</title>
  <meta name="description" content="Ethereum basics">

  <!-- <link rel="stylesheet" href="/assets/css/main.css"> -->
  <!-- <link rel="canonical" href="http://localhost:4000/general/2022/01/11/what-is-a-gas-fee.html"> -->
  <!-- <link rel="alternate" type="application/rss+xml" title="Nazir's website" href="http://localhost:4000/feed.xml"> -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/atom-one-light.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;800&family=Poppins:wght@600;800&family=Sora:wght@700&display=swap" rel="stylesheet"> 

  <style>
    body {
        max-width: 800px;
        margin: auto;
        /* border: 3px solid green; */
        /* padding: 10px; */
        margin-bottom: 40px;
        /* height: 100%; */
      }
    div.post {
        padding-top: 80px;
        padding-bottom: 20px;
      }
    div.loginform {
      max-width: 400px;
      margin: auto;
      /* border: 3px solid green;
      padding: 10px; */
      }
    div.container {
      margin: 10px;
      margin: auto;
      /* position: relative; */
      }
    pre {
      /* font-size: 13px; */
      /* line-height: 1.42857143; */
      border: 1px solid #eee;
      border-radius: 4px;
      }
    code {
      background-color: #f8f8f8;
      overflow: auto;
      padding: .2rem .4rem;
      border-radius: 4px;
    }
    div.iframe-container {
      position: relative;
      overflow: hidden;
      width: 100%;
      padding-top: 100%
    }
    /* Then style the iframe to fit in the container div with full height and width */
    .responsive-iframe {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
    }
    img {
      padding-top: 10px;
      padding-bottom: 10px;
      max-width: 100%;
      max-height: 600px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .navbar-light .navbar-nav .nav-link.active {
      color: #000000;  
    }
    div.container a {
    text-decoration: none;
    }
    div.container a:hover {
    text-decoration: underline;
    }
    .nav .nav-link.active {
      background: #000000;
    }
    .nav .nav-link {
      padding-top: 5px;
      padding-bottom: 5px;
      font-weight: 600;
    }
    .nav .nav-item .nav-link {
      text-decoration: none;
    }
    div.shout {
      font-size: 40px;
      font-size: 5vmin;
      font-family: 'Poppins';
      font-weight: 800;
      text-align: center;
      color: #ffffff;
      position: absolute;
      left: 0;
      margin: auto;
      text-align: center;
      top: 30%;
      width: 100%;
    }
    div.rectangle {
      width: 100%;
      height: 100%;
      /* background: #f72585; */
      background: #000000;
    }
    </style>

</head>


  <body>

    <div class="container">
  
    <div class="post">
      <h3 style="margin-bottom:10px"><strong> What is a gas fee </strong></h3>
      <hr>
      <small class="text-muted" style="float:left"><time datetime="2022-01-11T21:16:00+03:00" itemprop="datePublished">Jan 11, 2022</time>
      </small>
      <small style="float:right"><a href="/blog">See all posts</a></small>
      
      <br/>
      <br/>
    
      <h5 id="ethereum-basics">Ethereum basics</h5>

<p>The concept of gas fees, how they are calculated and how affect your transactions is fundamental to understanding how the Ethereum blockchain works.</p>

<p>Basically, Ethereum is a decentralized computer that runs different types of transactions (txns) which could change the blockchain state.</p>

<p>Some examples of txns are:</p>
<ul>
  <li>Send ETH from one account to another</li>
  <li>Interact with a smart contract, like swap a token on Uniswap</li>
</ul>

<p>All txns are initiated by accounts of the Ethereum network and basically are cryptographically signed instructions for the computer, the so-called Ethereum Virtual Machine (EVM).</p>

<p>EVM is what defines the rules for computing a new valid state from block to block.</p>

<p>There’re two types of accounts in Ethereum:</p>
<ul>
  <li>Account managed by a human</li>
  <li>Account managed by a program (i.e. smart contract)</li>
</ul>

<p>Both types of accounts can:</p>
<ul>
  <li>Receive, hold and send ETH and tokens</li>
  <li>Interact with deployed smart contracts</li>
</ul>

<p>A smart contract is a program that “lives inside” a blockchain and can be triggered by txn from another account and execute many different actions, such as transferring tokens or even creating a new contract.</p>

<p>Since each Ethereum txn requires computational resources to execute, each txn requires a fee and must be mined to become valid.</p>

<h5 id="gas-basics">Gas basics</h5>

<p>“Gas” refers to the fee required to conduct a transaction on Ethereum successfully.</p>

<p>The simplest and most common txn type is a transfer of ETH from one account to another. Such txn requires 21000 gas to be executed.</p>

<p>Complex txns, like smart contract creation or smart contract call can cost substantially higher.</p>

<p>On a high level, the gas fee can be split into two different multipliers:</p>

<p><code>[Gas fee] = [Gas units] * [Gas price per unit]</code>.</p>

<p><code>[Gas units]</code> is an amount of computational effort required to execute specific operations on the Ethereum network.</p>

<p><code>[Gas price per unit]</code> is a price depending on the network busyness and denoted in gwei.</p>

<p>Gwei is 10^-9 ETH.<br />
Gwei itself means giga-wei, and it’s equal to 10^9 wei.<br />
Wei is the smallest unit of ETH, and it’s equal to 10^-18 ETH.<br />
Wei itself is named after Wei Dai, creator of Bitcoin “predecessor” b-money, distributed electronic cash system.</p>

<p>Calculating gas used to be very complicated, but it was simplified after EIP 1559 implementation (as part of the London Upgrade) in the middle of 2021.</p>

<p>If your wallet supports EIP 1559 (like Metamask), gas for your txn will be calculated as:</p>

<p><code>[Gas price] = [Gas units] * ( [Base fee] + [Priority fee] )</code></p>

<p>It this particular example:
<code>[Gas price] = 248688 * (168 + 2) * 10^-9 * ETH_price = $128</code></p>

<p><img src="http://localhost:4000/assets/images/what-is-a-gas-fee/metamask-wallet.png" /></p>

<p><code>[Base fee]</code> is set by the network. It increases and decreases automatically based on network busyness.
This fee gets burned when it’s paid.</p>

<p><code>[Priority fee]</code> is optional and not burning. It goes to a miner as an incentive to process your txn sooner.</p>

<p>For example, If you put 0 gwei for <code>[Priority fee]</code> more likely there will be no reason for the miner to include your txn into the block.<br />
Without this fee, miners would find it economically viable to mine empty blocks, as they would receive the same block reward.</p>

<p>You can find actual block base fee and priority fees for different types of txn execution speed (e.g. low, average, high) on various websites.
For example here: <a href="https://etherscan.io/gastracker" target="_blank">https://etherscan.io/gastracker</a></p>

<p><img src="http://localhost:4000/assets/images/what-is-a-gas-fee/etherscan.jpg" /></p>

<p><code>[Max fee]</code> includes both <code>[Base fee]</code> and <code>[Priority fee]</code> and it’s a maximum amount of fee you’d be willing to pay to a txn.</p>

<p>Metamask initially sets this amount based on the previous block’s history.</p>

<p>The higher <code>[Max fee]</code> is, the more chances txn will be successful in case of a surge in blockchain use (i.e. [Base fee] increase) after txn is submitted.</p>

<h5 id="what-is-a-gas-limit-and-why-it-exists">What is a gas limit and why it exists</h5>

<p>So, now we know how fees per gas unit are produced.</p>

<p>Let’s move to the <code>[Gas limit]</code> and how it differs from actual gas usage.</p>

<p><img src="http://localhost:4000/assets/images/what-is-a-gas-fee/gas-usage.jpg" /></p>

<p><code>[Gas limit]</code> refers to the maximum amount of <code>[Gas units]</code> you are willing to consume on a txn.</p>

<p>If your gas limit will be lower than the actual amount of gas units needed to execute a txn, txn will be unsuccessful. The EVM then reverts any changes, <strong>but the gas will be consumed</strong>.</p>

<p>If we can exactly estimate a <code>[Gas limit]</code> for a txn it will be equal to actual gas usage.</p>

<p>But, usually, due to various reasons, it’s very hard to estimate exactly how many gas units are needed to execute a particular txn.</p>

<p>Even two absolutely the same txns can have different gas usage because of different EVM states while executing.
Here’s an example:<br />
<a href="https://ethereum.stackexchange.com/questions/44643/why-gas-used-are-different-for-same-transfer-tx" target="_blank">https://ethereum.stackexchange.com/questions/44643/why-gas-used-are-different-for-same-transfer-tx</a></p>

<h5 id="final-words">Final words</h5>

<p>Txns are basically a list of instructions for EVM. And any instruction has a universally agreed cost in terms of gas.</p>

<p>More details about these ‘costs’ and other implementations of the EVM can be found in an Ethereum Yellowpaper: <br />
<a href="https://ethereum.github.io/yellowpaper/paper.pdf" target="_blank">https://ethereum.github.io/yellowpaper/paper.pdf</a></p>

<p><img src="http://localhost:4000/assets/images/what-is-a-gas-fee/yellowpaper.png" /></p>

<p>If you want to go deeper on this topic you can start with Ethereum documentation:<br />
<a href="https://ethereum.org/en/developers/docs/gas/" target="_blank">https://ethereum.org/en/developers/docs/gas/</a></p>

<p>Gas fees is definitely a great concept that showed credibility over many years, but the next big step in Ethereum adoption will be a new UI/UX layer where a regular user doesn’t even know about its existence.</p>

<p><em>Originally posted <a href="https://twitter.com/dashtiev" target="_blank">on my twitter</a>.</em></p>

    
      </div>
    </div>

    <footer> 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"> 
    </script>

    <script
      type="text/javascript"
      src=""
    ></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  
</footer>


  </body>

</html>
